### 路由

>https://reacttraining.com/react-router/

>npm install react-router-dom

```
在渲染App组件的index.js上引入
import { HashRouter as Router, Route } from 'react-router-dom'

/-----HashRouter会有#号，BrowserRouter没有--------/

在render函数里用Router包起来（只有最顶级有Router）
<Router>
    <App />
</Router>

再使用Route组件
<Router>
    <Route component={App} path="/"/>
</Router>

其他组件若需要用路由或其他组件只需
import {Route, Link} from 'react-router-dom'

<Route component={Home} path="/home"/>
```

>路由跳转

```
import {Route, Link, Redirect, Switch} from 'react-router-dom'

//Link组件必须有to属性，**NavLink**组件a标签会多个class="active"

<ul>
    <li><Link to="/home">首页</Link></li>
    <li><Link to="/article">文章</Link></li>
    <li><Link to="/users">用户</Link></li>
</ul>

<Route component={Home} path="/home" />
<Route component={Article} path="/article" />
<Route component={Users} path="/users" />
<Redirect to="/home" from="/"/>  //当路径为'/'时会跳转到home

如果报错超出最大值，则用Switch组件包裹起来，匹配成功后，
后面组件不会再执行。
<Switch>
    <Route component={Home} path="/home" />

    //exact完全匹配才会执行这个路由，如果不加，下面一个路由是包含article，
    就直接走path="/article"这个路由，不会走到有id参数的路由
    <Route component={Article} path="/article" exact/>
    <Route component={ArticleDetail} path="/article/:id" />

    <Redirect to="/home" from="/"/>
<Switch/>
```

>跳转404页面

```
<Switch>
    <Route component={Home} path="/home" />
    <Route component={Article} path="/article" />
    <Route component={Users} path="/users" />
    <Route component={NotFound} path="/404" />
    <Redirect to="/home" from="/" exact/>    //Redirect也有exact，全匹配才会跳去home
    <Redirect to="/404" />               //不然跳去404
</Switch>
```

>动态路由

```
import {Route, Link} from 'react-router-dom'

//index.js
<div>
    <Link to="/article/1">文章一</Link>
    <Link to="/article/2">文章二</Link>
    <Route component={ArticleDetail} path="/article/:id" />
</div>

//ArticleDetail.js 子组件
获取当前地址栏id
this.props.match.params.id
```